import Image from "next/image";

export default function ReviewCard({ dp, name, content, rating }) {
  const starRating = (rating) => {
    const stars = [];

    for (let index = 0; index < rating; index++) {
      stars.push(
        <svg
          key={index}
          width="22"
          height="22"
          viewBox="0 0 22 22"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M20.0206 8.71883C19.9659 8.5575 19.865 8.41573 19.7306 8.31104C19.5962 8.20635 19.4341 8.14332 19.2642 8.12973L14.2961 7.73496L12.1462 2.97594C12.0777 2.82266 11.9663 2.69247 11.8255 2.60109C11.6847 2.50971 11.5204 2.46103 11.3526 2.46094C11.1847 2.46085 11.0204 2.50934 10.8794 2.60057C10.7385 2.6918 10.627 2.82187 10.5584 2.97507L8.4085 7.73496L3.44033 8.12973C3.27341 8.14295 3.11383 8.20398 2.98068 8.30553C2.84754 8.40707 2.74647 8.54482 2.68956 8.7023C2.63266 8.85978 2.62233 9.03032 2.65981 9.19352C2.69728 9.35671 2.78099 9.50566 2.9009 9.62253L6.57234 13.2016L5.27387 18.8242C5.23444 18.9944 5.24708 19.1725 5.31014 19.3355C5.3732 19.4984 5.48377 19.6386 5.62751 19.7379C5.77125 19.8372 5.94151 19.891 6.11621 19.8923C6.2909 19.8937 6.46197 19.8425 6.6072 19.7454L11.3523 16.582L16.0973 19.7454C16.2458 19.8439 16.4208 19.8947 16.599 19.8907C16.7771 19.8868 16.9498 19.8285 17.0938 19.7235C17.2377 19.6185 17.3461 19.472 17.4043 19.3036C17.4625 19.1352 17.4678 18.953 17.4193 18.7815L15.8255 13.2042L19.7784 9.64693C20.0372 9.41338 20.1322 9.04911 20.0206 8.71883Z"
            fill="#E77C40"
          />
        </svg>
      );
    }
    if (rating < 5) {
      let blank = 5 - rating;
      for (let index = 0; index < blank; index++) {
        stars.push(
          <svg key={index}
            width="22"
            height="22"
            viewBox="0 0 22 22"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M6.56882 13.2021L5.27035 18.8248C5.23014 18.995 5.24221 19.1735 5.30498 19.3367C5.36776 19.5 5.47831 19.6406 5.62221 19.7401C5.76612 19.8396 5.93667 19.8933 6.11161 19.8944C6.28655 19.8954 6.45773 19.8437 6.6028 19.7459L11.3479 16.5825L16.093 19.7459C16.2414 19.8445 16.4165 19.8952 16.5946 19.8913C16.7727 19.8874 16.9454 19.829 17.0894 19.724C17.2333 19.6191 17.3417 19.4725 17.3999 19.3041C17.4581 19.1357 17.4634 18.9535 17.415 18.7821L15.8211 13.2048L19.774 9.64747C19.9006 9.53348 19.991 9.38487 20.034 9.22003C20.0771 9.0552 20.0709 8.88136 20.0162 8.72002C19.9615 8.55868 19.8607 8.41691 19.7262 8.31225C19.5918 8.20759 19.4297 8.14462 19.2598 8.13114L14.2917 7.7355L12.1418 2.97648C12.0732 2.82324 11.9618 2.69311 11.8209 2.60181C11.68 2.5105 11.5158 2.46191 11.3479 2.46191C11.18 2.46191 11.0157 2.5105 10.8748 2.60181C10.734 2.69311 10.6225 2.82324 10.554 2.97648L8.4041 7.7355L3.43593 8.13027C3.26901 8.14349 3.10943 8.20453 2.97629 8.30607C2.84315 8.40761 2.74208 8.54536 2.68517 8.70284C2.62826 8.86032 2.61793 9.03086 2.65541 9.19406C2.69289 9.35725 2.77659 9.5062 2.8965 9.62307L6.56882 13.2021ZM9.05508 9.43222C9.21063 9.41997 9.36002 9.36609 9.48759 9.27625C9.61515 9.1864 9.7162 9.06388 9.78013 8.92155L11.3479 5.45229L12.9156 8.92155C12.9796 9.06388 13.0806 9.1864 13.2082 9.27625C13.3357 9.36609 13.4851 9.41997 13.6407 9.43222L17.1021 9.70673L14.2516 12.2723C14.0041 12.4954 13.9056 12.8387 13.9962 13.1594L15.0882 16.9808L11.8324 14.81C11.6895 14.7141 11.5213 14.6628 11.3492 14.6628C11.1771 14.6628 11.0089 14.7141 10.866 14.81L7.4638 17.0784L8.37883 13.1167C8.41238 12.971 8.40788 12.8191 8.36575 12.6757C8.32363 12.5322 8.24531 12.402 8.13831 12.2976L5.49083 9.71632L9.05508 9.43222Z"
              fill="#E77C40"
            />
          </svg>
        );
      }
    }
    return stars;
  };

  return (
    <div className="flex border-[1px] border-[#DEDEDE] md:w-4/5 mx-auto flex-col items-center gap-3 rounded-xl md:rounded-2xl py-8 px-3 shadow-lg md:shadow-2xl">
      <div>{dp}</div>
      <p className="text-center w-4/5 md:w-full text-sm text-[#737373] my-2">{content}</p>
      <div className="flex">{starRating(rating)}</div>
      <p className="text-[#23A6F0] font-bold">{name}</p>
    </div>
  );
}
